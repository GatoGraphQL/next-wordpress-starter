import { WORDPRESS_GRAPHQL_PROVIDER_WPGRAPHQL, WORDPRESS_GRAPHQL_PROVIDER_GATOGRAPHQL } from './providers/providers';

import {
  POST_FIELDS as WPGRAPHQL_POST_FIELDS,
  QUERY_ALL_POSTS_INDEX as WPGRAPHQL_QUERY_ALL_POSTS_INDEX,
  QUERY_ALL_POSTS_ARCHIVE as WPGRAPHQL_QUERY_ALL_POSTS_ARCHIVE,
  QUERY_ALL_POSTS as WPGRAPHQL_QUERY_ALL_POSTS,
  QUERY_POST_BY_SLUG as WPGRAPHQL_QUERY_POST_BY_SLUG,
  QUERY_POSTS_BY_CATEGORY_ID_INDEX as WPGRAPHQL_QUERY_POSTS_BY_CATEGORY_ID_INDEX,
  QUERY_POSTS_BY_CATEGORY_ID_ARCHIVE as WPGRAPHQL_QUERY_POSTS_BY_CATEGORY_ID_ARCHIVE,
  QUERY_POSTS_BY_CATEGORY_ID as WPGRAPHQL_QUERY_POSTS_BY_CATEGORY_ID,
  QUERY_POSTS_BY_AUTHOR_SLUG_INDEX as WPGRAPHQL_QUERY_POSTS_BY_AUTHOR_SLUG_INDEX,
  QUERY_POSTS_BY_AUTHOR_SLUG_ARCHIVE as WPGRAPHQL_QUERY_POSTS_BY_AUTHOR_SLUG_ARCHIVE,
  QUERY_POSTS_BY_AUTHOR_SLUG as WPGRAPHQL_QUERY_POSTS_BY_AUTHOR_SLUG,
  QUERY_POST_SEO_BY_SLUG as WPGRAPHQL_QUERY_POST_SEO_BY_SLUG,
  QUERY_POST_PER_PAGE as WPGRAPHQL_QUERY_POST_PER_PAGE,
} from './providers/wpgraphql/posts';

import {
  POST_FIELDS as GATOGRAPHQL_POST_FIELDS,
  QUERY_ALL_POSTS_INDEX as GATOGRAPHQL_QUERY_ALL_POSTS_INDEX,
  QUERY_ALL_POSTS_ARCHIVE as GATOGRAPHQL_QUERY_ALL_POSTS_ARCHIVE,
  QUERY_ALL_POSTS as GATOGRAPHQL_QUERY_ALL_POSTS,
  QUERY_POST_BY_SLUG as GATOGRAPHQL_QUERY_POST_BY_SLUG,
  QUERY_POSTS_BY_CATEGORY_ID_INDEX as GATOGRAPHQL_QUERY_POSTS_BY_CATEGORY_ID_INDEX,
  QUERY_POSTS_BY_CATEGORY_ID_ARCHIVE as GATOGRAPHQL_QUERY_POSTS_BY_CATEGORY_ID_ARCHIVE,
  QUERY_POSTS_BY_CATEGORY_ID as GATOGRAPHQL_QUERY_POSTS_BY_CATEGORY_ID,
  QUERY_POSTS_BY_AUTHOR_SLUG_INDEX as GATOGRAPHQL_QUERY_POSTS_BY_AUTHOR_SLUG_INDEX,
  QUERY_POSTS_BY_AUTHOR_SLUG_ARCHIVE as GATOGRAPHQL_QUERY_POSTS_BY_AUTHOR_SLUG_ARCHIVE,
  QUERY_POSTS_BY_AUTHOR_SLUG as GATOGRAPHQL_QUERY_POSTS_BY_AUTHOR_SLUG,
  QUERY_POST_SEO_BY_SLUG as GATOGRAPHQL_QUERY_POST_SEO_BY_SLUG,
  QUERY_POST_PER_PAGE as GATOGRAPHQL_QUERY_POST_PER_PAGE,
} from './providers/gatographql/posts';

module.exports = function feed(nextConfig = {}) {
  const { env } = nextConfig;

  const { WORDPRESS_GRAPHQL_PROVIDER } = env;

  return Object.assign({}, nextConfig, {
    ...(WORDPRESS_GRAPHQL_PROVIDER === WORDPRESS_GRAPHQL_PROVIDER_WPGRAPHQL
      ? {
          WPGRAPHQL_POST_FIELDS,
          WPGRAPHQL_QUERY_ALL_POSTS_INDEX,
          WPGRAPHQL_QUERY_ALL_POSTS_ARCHIVE,
          WPGRAPHQL_QUERY_ALL_POSTS,
          WPGRAPHQL_QUERY_POST_BY_SLUG,
          WPGRAPHQL_QUERY_POSTS_BY_CATEGORY_ID_INDEX,
          WPGRAPHQL_QUERY_POSTS_BY_CATEGORY_ID_ARCHIVE,
          WPGRAPHQL_QUERY_POSTS_BY_CATEGORY_ID,
          WPGRAPHQL_QUERY_POSTS_BY_AUTHOR_SLUG_INDEX,
          WPGRAPHQL_QUERY_POSTS_BY_AUTHOR_SLUG_ARCHIVE,
          WPGRAPHQL_QUERY_POSTS_BY_AUTHOR_SLUG,
          WPGRAPHQL_QUERY_POST_SEO_BY_SLUG,
          WPGRAPHQL_QUERY_POST_PER_PAGE,
        }
      : {}),
    ...(WORDPRESS_GRAPHQL_PROVIDER === WORDPRESS_GRAPHQL_PROVIDER_GATOGRAPHQL
      ? {
          GATOGRAPHQL_POST_FIELDS,
          GATOGRAPHQL_QUERY_ALL_POSTS_INDEX,
          GATOGRAPHQL_QUERY_ALL_POSTS_ARCHIVE,
          GATOGRAPHQL_QUERY_ALL_POSTS,
          GATOGRAPHQL_QUERY_POST_BY_SLUG,
          GATOGRAPHQL_QUERY_POSTS_BY_CATEGORY_ID_INDEX,
          GATOGRAPHQL_QUERY_POSTS_BY_CATEGORY_ID_ARCHIVE,
          GATOGRAPHQL_QUERY_POSTS_BY_CATEGORY_ID,
          GATOGRAPHQL_QUERY_POSTS_BY_AUTHOR_SLUG_INDEX,
          GATOGRAPHQL_QUERY_POSTS_BY_AUTHOR_SLUG_ARCHIVE,
          GATOGRAPHQL_QUERY_POSTS_BY_AUTHOR_SLUG,
          GATOGRAPHQL_QUERY_POST_SEO_BY_SLUG,
          GATOGRAPHQL_QUERY_POST_PER_PAGE,
        }
      : {}),
  });
};
