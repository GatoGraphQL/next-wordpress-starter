import { WORDPRESS_GRAPHQL_PROVIDER_WPGRAPHQL, WORDPRESS_GRAPHQL_PROVIDER_GATOGRAPHQL } from 'providers/providers';

import {
  PAGE_FIELDS as WPGRAPHQL_PAGE_FIELDS,
  QUERY_ALL_PAGES_INDEX as WPGRAPHQL_QUERY_ALL_PAGES_INDEX,
  QUERY_ALL_PAGES_ARCHIVE as WPGRAPHQL_QUERY_ALL_PAGES_ARCHIVE,
  QUERY_ALL_PAGES as WPGRAPHQL_QUERY_ALL_PAGES,
  QUERY_PAGE_BY_URI as WPGRAPHQL_QUERY_PAGE_BY_URI,
  QUERY_PAGE_SEO_BY_URI as WPGRAPHQL_QUERY_PAGE_SEO_BY_URI,
} from 'providers/wpgraphql/data/pages';

import {
  PAGE_FIELDS as GATOGRAPHQL_PAGE_FIELDS,
  QUERY_ALL_PAGES_INDEX as GATOGRAPHQL_QUERY_ALL_PAGES_INDEX,
  QUERY_ALL_PAGES_ARCHIVE as GATOGRAPHQL_QUERY_ALL_PAGES_ARCHIVE,
  QUERY_ALL_PAGES as GATOGRAPHQL_QUERY_ALL_PAGES,
  QUERY_PAGE_BY_URI as GATOGRAPHQL_QUERY_PAGE_BY_URI,
  QUERY_PAGE_SEO_BY_URI as GATOGRAPHQL_QUERY_PAGE_SEO_BY_URI,
} from 'providers/gatographql/data/pages';

module.exports = function feed(nextConfig = {}) {
  const { env } = nextConfig;

  const { WORDPRESS_GRAPHQL_PROVIDER } = env;

  return Object.assign({}, nextConfig, {
    ...(WORDPRESS_GRAPHQL_PROVIDER === WORDPRESS_GRAPHQL_PROVIDER_WPGRAPHQL
      ? {
          WPGRAPHQL_PAGE_FIELDS,
          WPGRAPHQL_QUERY_ALL_PAGES_INDEX,
          WPGRAPHQL_QUERY_ALL_PAGES_ARCHIVE,
          WPGRAPHQL_QUERY_ALL_PAGES,
          WPGRAPHQL_QUERY_PAGE_BY_URI,
          WPGRAPHQL_QUERY_PAGE_SEO_BY_URI,
        }
      : {}),
    ...(WORDPRESS_GRAPHQL_PROVIDER === WORDPRESS_GRAPHQL_PROVIDER_GATOGRAPHQL
      ? {
          GATOGRAPHQL_PAGE_FIELDS,
          GATOGRAPHQL_QUERY_ALL_PAGES_INDEX,
          GATOGRAPHQL_QUERY_ALL_PAGES_ARCHIVE,
          GATOGRAPHQL_QUERY_ALL_PAGES,
          GATOGRAPHQL_QUERY_PAGE_BY_URI,
          GATOGRAPHQL_QUERY_PAGE_SEO_BY_URI,
        }
      : {}),
  });
};
