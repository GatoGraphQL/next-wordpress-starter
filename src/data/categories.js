import { WORDPRESS_GRAPHQL_PROVIDER_WPGRAPHQL, WORDPRESS_GRAPHQL_PROVIDER_GATOGRAPHQL } from './providers/providers';

import {
  QUERY_ALL_CATEGORIES as WPGRAPHQL_QUERY_ALL_CATEGORIES,
  QUERY_CATEGORY_BY_SLUG as WPGRAPHQL_QUERY_CATEGORY_BY_SLUG,
  QUERY_CATEGORY_SEO_BY_SLUG as WPGRAPHQL_QUERY_CATEGORY_SEO_BY_SLUG,
} from './wpgraphql/categories';

import {
  QUERY_ALL_CATEGORIES as GATOGRAPHQL_QUERY_ALL_CATEGORIES,
  QUERY_CATEGORY_BY_SLUG as GATOGRAPHQL_QUERY_CATEGORY_BY_SLUG,
  QUERY_CATEGORY_SEO_BY_SLUG as GATOGRAPHQL_QUERY_CATEGORY_SEO_BY_SLUG,
} from './gatographql/categories';

module.exports = function feed(nextConfig = {}) {
  const { env } = nextConfig;

  const { WORDPRESS_GRAPHQL_PROVIDER } = env;

  return Object.assign({}, nextConfig, {
    ...(WORDPRESS_GRAPHQL_PROVIDER === WORDPRESS_GRAPHQL_PROVIDER_WPGRAPHQL
      ? {
          WPGRAPHQL_QUERY_ALL_CATEGORIES,
          WPGRAPHQL_QUERY_CATEGORY_BY_SLUG,
          WPGRAPHQL_QUERY_CATEGORY_SEO_BY_SLUG,
        }
      : {}),
    ...(WORDPRESS_GRAPHQL_PROVIDER === WORDPRESS_GRAPHQL_PROVIDER_GATOGRAPHQL
      ? {
          GATOGRAPHQL_QUERY_ALL_CATEGORIES,
          GATOGRAPHQL_QUERY_CATEGORY_BY_SLUG,
          GATOGRAPHQL_QUERY_CATEGORY_SEO_BY_SLUG,
        }
      : {}),
  });
};
